# PARTSCONTROL 项目结构说明

## 📁 项目整体结构

```
PARTSCONTROL/
├── 📁 前端/                    # React + TypeScript 前端应用
│   ├── 📁 src/                # 源代码目录
│   │   ├── 📁 components/     # React 组件
│   │   │   ├── 📁 admin/      # 管理员专用组件
│   │   │   ├── *.tsx          # 通用组件
│   │   ├── 📄 main.tsx        # 应用入口
│   │   ├── 📄 App.tsx         # 主应用组件
│   │   ├── 📄 apiClient.ts    # API 客户端
│   │   ├── 📄 constants.ts    # 常量定义
│   │   ├── 📄 types.ts        # TypeScript 类型定义
│   │   ├── 📄 utils.ts        # 工具函数
│   │   └── 📄 index.css       # 全局样式
│   ├── 📄 index.html          # HTML 模板
│   ├── 📄 package.json        # 前端依赖配置
│   ├── 📄 vite.config.ts      # Vite 构建配置
│   ├── 📄 tailwind.config.js  # Tailwind CSS 配置
│   └── 📄 tsconfig.json       # TypeScript 配置
├── 📁 后端/                    # Node.js + Express 后端应用
│   ├── 📁 src/                # 源代码目录
│   │   ├── 📁 api/            # API 路由定义
│   │   ├── 📁 controllers/    # 控制器层
│   │   ├── 📁 models/         # 数据模型
│   │   ├── 📁 services/       # 业务服务层
│   │   ├── 📁 middleware/     # 中间件
│   │   ├── 📁 config/         # 配置文件
│   │   ├── 📁 utils/          # 工具函数
│   │   ├── 📄 app.js          # Express 应用配置
│   │   └── 📄 server.js       # 服务器入口
│   ├── 📁 uploads/            # 文件上传目录
│   ├── 📁 logs/               # 日志文件目录
│   └── 📄 package.json        # 后端依赖配置
├── 📄 README.md               # 项目说明文档
├── 📄 优化建议.md             # 优化建议文档
├── 📄 安全优化总结.md         # 安全优化总结
├── 📄 docker-compose.yml      # Docker 编排配置
├── 📄 Dockerfile              # Docker 镜像配置
├── 📄 deploy.sh               # 部署脚本
└── 📄 env.example             # 环境变量示例
```

## 🎯 核心功能模块

### 前端模块 (前端/src/components/)

#### 🔐 认证模块
- `LoginPage.tsx` - 用户登录页面
- `RegisterPage.tsx` - 用户注册页面
- `PostRegistrationInfoModal.tsx` - 注册信息确认模态框

#### 📋 订单管理模块
- `OrderList.tsx` - 订单列表组件
- `OrderDetails.tsx` - 订单详情页面
- `FileUpload.tsx` - 文件上传组件

#### 🔍 库存查询模块
- `InventorySearch.tsx` - 库存搜索组件
- `InventoryStockModal.tsx` - 库存详情模态框
- `BatchStockViewModal.tsx` - 批量库存查看模态框

#### 💰 报价管理模块
- `QuoteSearch.tsx` - 报价搜索组件
- `QuoteBatchInquiry.tsx` - 批量报价查询
- `QuoteHistoryUpload.tsx` - 报价历史上传
- `BatchQuoteResultsModal.tsx` - 批量报价结果模态框

#### 📝 备忘录模块
- `SmartMemo.tsx` - 智能备忘录组件
- `MemoList.tsx` - 备忘录列表
- `NotesModal.tsx` - 备忘录编辑模态框

#### 🔧 零件管理模块
- `PartDetailsModal.tsx` - 零件详情模态框
- `PartInfoExport.tsx` - 零件信息导出

#### 📊 报价查询模块
- `QuoteInquiryList.tsx` - 报价查询列表
- `QuoteInquiryDetails.tsx` - 报价查询详情

#### 🎨 通用组件
- `ConfirmationModal.tsx` - 确认操作模态框
- `ImagePreviewModal.tsx` - 图片预览模态框
- `icons.tsx` - 图标组件库

#### 👨‍💼 管理员模块 (前端/src/components/admin/)
- `AdminDashboard.tsx` - 管理员仪表板
- `AdminSidebar.tsx` - 管理员侧边栏
- `OrderManagement.tsx` - 订单管理
- `UserManagement.tsx` - 用户管理
- `UserEditModal.tsx` - 用户编辑模态框

### 后端模块 (后端/src/)

#### 🛣️ API 路由 (后端/src/api/)
- `auth.routes.js` - 认证相关路由
- `orders.routes.js` - 订单管理路由
- `inventory.routes.js` - 库存查询路由
- `quote.routes.js` - 报价管理路由
- `quoteInquiry.routes.js` - 报价查询路由
- `memo.routes.js` - 备忘录路由
- `admin.routes.js` - 管理员路由
- `monitoring.routes.js` - 监控路由

#### 🎮 控制器层 (后端/src/controllers/)
- `auth.controller.js` - 认证控制器
- `order.controller.js` - 订单控制器
- `inventory.controller.js` - 库存控制器
- `quote.controller.js` - 报价控制器
- `quoteInquiry.controller.js` - 报价查询控制器
- `memo.controller.js` - 备忘录控制器
- `admin.controller.js` - 管理员控制器
- `part.controller.js` - 零件控制器
- `image.controller.js` - 图片控制器
- `monitoring.controller.js` - 监控控制器

#### 📊 数据模型 (后端/src/models/)
- `user.model.js` - 用户模型
- `order.model.js` - 订单模型
- `part.model.js` - 零件模型
- `quote.model.js` - 报价模型
- `quoteInquiry.model.js` - 报价查询模型
- `memo.model.js` - 备忘录模型
- `noteImage.model.js` - 备忘录图片模型

#### 🔧 业务服务 (后端/src/services/)
- `inventoryDb.service.js` - 库存数据库服务
- `lj.model.js` - 远程库存数据模型
- `mail.service.js` - 邮件服务
- `stockScheduler.service.js` - 库存监控调度服务
- `txtParser.service.js` - 文本解析服务
- `linuxUser.service.js` - Linux用户服务

#### 🛡️ 中间件 (后端/src/middleware/)
- `auth.middleware.js` - 认证中间件
- `adminAuth.middleware.js` - 管理员认证中间件
- `cache.middleware.js` - 缓存中间件
- `logger.middleware.js` - 日志中间件
- `rateLimit.middleware.js` - 限流中间件
- `upload.middleware.js` - 文件上传中间件
- `error.handler.js` - 错误处理中间件
- `ownership.middleware.js` - 所有权验证中间件

#### ⚙️ 配置 (后端/src/config/)
- `db.config.js` - 数据库配置
- `security.config.js` - 安全配置

## 🚀 部署相关

### Docker 配置
- `Dockerfile` - 应用容器化配置
- `docker-compose.yml` - 多服务编排配置

### 部署脚本
- `deploy.sh` - 自动化部署脚本
- `env.example` - 环境变量配置示例

## 📚 文档

- `README.md` - 项目主要说明文档
- `优化建议.md` - 系统优化建议
- `安全优化总结.md` - 安全优化详细说明

## 🎯 项目特点

### ✅ 清晰的分层架构
- **前端**: 组件化开发，功能模块清晰分离
- **后端**: MVC架构，职责分离明确

### ✅ 安全性保障
- 多层安全防护
- 远程数据库只读访问
- 完整的审计日志

### ✅ 性能优化
- 前端代码分割
- API缓存机制
- 数据库查询优化

### ✅ 可维护性
- 统一的代码规范
- 完整的错误处理
- 详细的日志记录

### ✅ 部署便利
- Docker容器化
- 自动化部署脚本
- 环境配置标准化 